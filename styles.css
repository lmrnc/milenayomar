:root{
  --cream: #f6f1e8;
  --cream-2: #fbf7f0;
  --ink: #161414;

  --green: #0b3b2e;
  --burgundy: #6a1730;
  --indigo: #1b2a5b;
  --blush: #e7c9cc;

  --line: rgba(22,20,20,.18);
  --line-strong: rgba(22,20,20,.28);

  --shadow: 0 14px 40px rgba(0,0,0,.08);

  --radius: 22px;
  --radius-sm: 14px;

  --max: 1120px;

  --sans: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI",
          Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  --serif: ui-serif, Georgia, "Times New Roman", Times, serif;

  --tracking: 0.06em;
  --header-reveal: 14px;

  /* lo setea JS con la altura real del header */
  --header-h: 72px;
}

*{ box-sizing: border-box; }
html{ scroll-behavior: smooth; }
body{
  margin: 0;
  background: radial-gradient(1200px 900px at 15% 0%, var(--cream-2), var(--cream));
  color: var(--ink);
  font-family: var(--sans);
  line-height: 1.35;
}

img, video{ max-width: 100%; display: block; }
a{ color: inherit; text-decoration: none; }
a:hover{ text-decoration: none; }
::selection{ background: rgba(231,201,204,.55); }

.skip-link{
  position: absolute;
  left: 10px;
  top: 10px;
  padding: 10px 12px;
  background: var(--cream-2);
  border: 1px solid var(--line-strong);
  border-radius: 999px;
  transform: translateY(-140%);
  transition: transform .18s ease;
  z-index: 9999;
}
.skip-link:focus{ transform: translateY(0); }

:focus-visible{
  outline: 3px solid rgba(11,59,46,.55);
  outline-offset: 3px;
  border-radius: 10px;
}

.sr-only{
  position:absolute;
  width:1px;height:1px;
  padding:0;margin:-1px;
  overflow:hidden;clip:rect(0,0,0,0);
  white-space:nowrap;border:0;
}

/* Subtle grain overlay */
.grain{
  pointer-events: none;
  position: fixed;
  inset: 0;
  opacity: .09;
  mix-blend-mode: multiply;
  background-image:
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='180' height='180'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.85' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='180' height='180' filter='url(%23n)' opacity='.55'/%3E%3C/svg%3E");
}

/* ---------- Header (desktop: reveal on hover) ---------- */
.site-header{
  position: fixed;
  top: 0; left: 0; right: 0;
  z-index: 1000;

  backdrop-filter: blur(10px);
  background: rgba(246,241,232,.78);
  border-bottom: 1px solid var(--line);

  transform: translateY(calc(-100% + var(--header-reveal)));
  transition: transform .28s ease, background .28s ease, border-color .28s ease;
  will-change: transform;
}

.site-header::before{
  content:"";
  position:absolute;
  left:0; right:0;
  top:0;
  height: var(--header-reveal);
  background: rgba(246,241,232,.68);
}

.site-header:hover,
.site-header:focus-within{
  transform: translateY(0);
  background: rgba(246,241,232,.86);
}

/* Clase que usa JS para ocultar/mostrar en móvil */
.site-header.header-hidden{
  transform: translateY(calc(-100% + var(--header-reveal)));
}

/* Cuando el menú está abierto, el header siempre visible */
.site-header.menu-open{
  transform: translateY(0) !important;
}

.header-inner{
  max-width: var(--max);
  margin: 0 auto;
  padding: 14px 18px;
  display: grid;
  grid-template-columns: 1fr auto auto;
  align-items: center;
  gap: 14px;
}

.brand{
  font-family: var(--serif);
  letter-spacing: .02em;
  font-size: 16px;
  opacity: .92;
}

.nav{
  display: flex;
  align-items: center;
  gap: 18px;
  font-size: 13px;
  letter-spacing: .06em;
  text-transform: uppercase;
}

.nav a{
  opacity: .88;
  padding: 10px 6px;
  position: relative;
}

.nav a::after{
  content:"";
  position:absolute;
  left: 6px;
  right: 6px;
  bottom: 6px;
  height: 1px;
  background: var(--line-strong);
  transform: scaleX(0);
  transform-origin: left;
  transition: transform .2s ease;
}
.nav a:hover::after{ transform: scaleX(1); }

.nav-cta{ color: var(--green); }
.nav-cta::after{ background: rgba(11,59,46,.45); }

.nav-toggle{
  display: none;
  border: 1px solid var(--line);
  background: rgba(251,247,240,.38);
  backdrop-filter: blur(10px);
  border-radius: 999px;
  padding: 8px 12px;
  gap: 10px;
  align-items: center;
  cursor: pointer;
}
.nav-toggle__label{
  font-size: 12px;
  letter-spacing: .08em;
  text-transform: uppercase;
  opacity: .88;
}
.nav-toggle__icon{
  width: 18px; height: 10px;
  position: relative;
  display: inline-block;
}
.nav-toggle__icon::before,
.nav-toggle__icon::after{
  content:"";
  position:absolute; left:0; right:0;
  height: 1px;
  background: var(--ink);
  opacity: .7;
}
.nav-toggle__icon::before{ top: 1px; }
.nav-toggle__icon::after{ bottom: 1px; }

/* desktop: panel off */
.nav-panel{ display: none; }

/* ---------- Layout helpers ---------- */
.page{ min-height: 100vh; }

.section-shell{
  max-width: var(--max);
  margin: 0 auto;
  padding: 64px 18px;
}

.section-head{ display: grid; gap: 10px; margin-bottom: 28px; }

.section-title{
  font-family: var(--serif);
  font-weight: 600;
  letter-spacing: .01em;
  font-size: clamp(28px, 3.3vw, 44px);
  margin: 0;
}
.section-subtitle{
  margin: 0;
  opacity: .82;
  max-width: 64ch;
  font-size: 15px;
}

/* ---------- Hero ---------- */
.hero{
  position: relative;
  min-height: clamp(560px, 78vh, 860px);
  display: grid;
  padding-top: 10px;
}

.hero-media{
  margin: 0;
  position: absolute;
  inset: 0;
  overflow: hidden;
}

.hero-video,
.hero-fallback{
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: 50% 45%;
}

.hero-fallback{ opacity: 0; pointer-events: none; }
.no-hero-video .hero-video{ opacity: 0; }
.no-hero-video .hero-fallback{ opacity: 1; }

.hero-video{
  filter: saturate(.98) contrast(1.02);
}

.hero::after{
  content:"";
  position:absolute;
  inset:0;
  background:
    radial-gradient(900px 650px at 18% 55%,
      rgba(246,241,232,.26) 0%,
      rgba(246,241,232,.10) 52%,
      rgba(246,241,232,.00) 78%),
    linear-gradient(to bottom,
      rgba(0,0,0,.12) 0%,
      rgba(0,0,0,.05) 40%,
      rgba(0,0,0,.16) 100%);
}

.hero-overlay{
  position: relative;
  z-index: 2;
  max-width: var(--max);
  margin: 0 auto;
  padding: 120px 18px 70px 18px;
  display: grid;
  align-content: center;
}

.hero-content{
  max-width: 560px;
  display: grid;
  gap: 14px;
}

.kicker{
  margin: 0;
  letter-spacing: .18em;
  text-transform: uppercase;
  font-size: 11px;
  opacity: .78;
  color: rgba(22,20,20,.80);
}

.hero-title{
  margin: 0;
  font-family: var(--serif);
  font-weight: 600;
}

.hero-title__names{
  display: inline-block;
  font-size: clamp(40px, 5.2vw, 74px);
  letter-spacing: .01em;
  line-height: 1.02;
  color: rgba(22,20,20,.92);
}

.hero-date{
  margin: 0;
  letter-spacing: .14em;
  text-transform: uppercase;
  font-size: 12px;
  opacity: .82;
  color: rgba(22,20,20,.78);
}

.hero-actions{
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-top: 6px;
}

/* Countdown inline */
.countdown{
  margin-top: 18px;
  max-width: 520px;
  border-top: 1px solid rgba(22,20,20,.18);
  padding-top: 14px;
}
.countdown-label{
  margin: 0 0 10px 0;
  font-size: 11px;
  letter-spacing: .18em;
  text-transform: uppercase;
  opacity: .72;
  color: rgba(22,20,20,.72);
}
.countdown-inline{
  display: flex;
  flex-wrap: wrap;
  align-items: baseline;
  gap: 10px;
}
.cd-part{
  display: inline-flex;
  align-items: baseline;
  gap: 8px;
  padding: 8px 12px;
  border: 1px solid rgba(22,20,20,.14);
  border-radius: 999px;
  background: rgba(251,247,240,.34);
  backdrop-filter: blur(6px);
}
.cd-part strong{
  font-family: var(--serif);
  font-size: 20px;
  line-height: 1;
}
.cd-part span{
  font-size: 12px;
  letter-spacing: .10em;
  text-transform: uppercase;
  opacity: .74;
}
.cd-sep{ opacity: .35; }
.countdown-done{
  margin: 12px 0 0 0;
  color: var(--green);
  font-weight: 600;
  letter-spacing: .02em;
}

/* ---------- Buttons ---------- */
.btn{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 12px 16px;
  border-radius: 999px;
  border: 1px solid var(--line-strong);
  background: transparent;
  cursor: pointer;
  font-size: 13px;
  letter-spacing: .08em;
  text-transform: uppercase;
  transition: transform .18s ease, background .18s ease, border-color .18s ease;
  user-select: none;
}
.btn:hover{ transform: translateY(-1px); }

.btn-primary{
  background: rgba(11,59,46,.92);
  color: var(--cream-2);
  border-color: rgba(11,59,46,.92);
}
.btn-primary:hover{ background: rgba(11,59,46,.98); }

.btn-ghost{
  background: rgba(251,247,240,.42);
  backdrop-filter: blur(6px);
}
.btn-ghost:hover{ background: rgba(231,201,204,.18); }

.btn-outline{
  border-color: rgba(106,23,48,.35);
  color: var(--burgundy);
  background: rgba(251,247,240,.55);
}
.btn-outline:hover{
  border-color: rgba(106,23,48,.5);
  background: rgba(106,23,48,.06);
}

/* ---------- Events blocks ---------- */
.events{ margin-top: -8px; }
.events-head{ display: grid; gap: 10px; margin-bottom: 28px; }
.events-grid{
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 26px;
}
.event{ padding-top: 10px; }
.event-line{
  height: 1px;
  background: var(--line-strong);
  margin-bottom: 18px;
}
.event-head{
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 12px;
}
.event-title{
  margin: 0;
  font-family: var(--serif);
  font-size: 22px;
  letter-spacing: .01em;
}
.event-time{
  margin: 0;
  font-size: 12px;
  letter-spacing: .18em;
  text-transform: uppercase;
  color: var(--green);
}
.event-place{
  margin: 12px 0 14px 0;
  max-width: 52ch;
  opacity: .9;
}
.event-place__name{ font-weight: 600; }
.event-place__addr{ opacity: .78; }
.event-actions{ margin-top: 6px; }

/* ---------- Story ---------- */
.story-grid{
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 18px;
  margin-top: 18px;
}
.story-card{
  border-top: 1px solid var(--line-strong);
  padding-top: 16px;
  display: grid;
  gap: 14px;
}
.story-media img{
  border-radius: var(--radius);
  box-shadow: var(--shadow);
}
.story-kicker{
  margin: 0;
  font-size: 12px;
  letter-spacing: var(--tracking);
  text-transform: uppercase;
  opacity: .68;
}
.story-title{
  margin: 6px 0 8px 0;
  font-family: var(--serif);
  font-size: 20px;
}
.story-text{
  margin: 0;
  opacity: .82;
  max-width: 44ch;
}

.portraits{
  margin-top: 44px;
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 18px;
  align-items: start;
}
.portrait img{
  border-radius: var(--radius);
  box-shadow: var(--shadow);
}
.portrait figcaption{
  margin-top: 10px;
  font-size: 12px;
  letter-spacing: .12em;
  text-transform: uppercase;
  opacity: .75;
}

/* ---------- Transport ---------- */
.simple-columns{
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 18px;
  margin-top: 18px;
}
.simple-block{
  border-top: 1px solid var(--line-strong);
  padding-top: 16px;
}
.simple-title{
  margin: 0;
  font-family: var(--serif);
  font-size: 18px;
}
.simple-text{
  margin: 10px 0 10px 0;
  opacity: .84;
}
.simple-meta{
  margin: 0;
  font-size: 13px;
  color: rgba(27,42,91,.85);
}

.inline-image{
  margin-top: 42px;
  border-top: 1px solid var(--line);
  padding-top: 22px;
}
.inline-image img{
  border-radius: var(--radius);
  box-shadow: var(--shadow);
}

/* ---------- Contact ---------- */
.contact-card{
  border-top: 1px solid var(--line-strong);
  padding-top: 16px;
  max-width: 720px;
}
.contact-line{
  height: 1px;
  background: var(--line);
  margin-bottom: 16px;
}
.contact-title{
  margin: 0;
  font-family: var(--serif);
  font-size: 20px;
}
.contact-text{
  margin: 10px 0 14px 0;
  opacity: .84;
}
.contact-list{
  list-style: none;
  padding: 0;
  margin: 0;
  display: grid;
  gap: 10px;
}
.contact-list li{
  display: grid;
  grid-template-columns: 120px 1fr;
  gap: 12px;
  align-items: baseline;
  border-bottom: 1px solid rgba(22,20,20,.10);
  padding-bottom: 10px;
}
.label{
  font-size: 12px;
  letter-spacing: .12em;
  text-transform: uppercase;
  opacity: .68;
}
.value{
  font-size: 14px;
  opacity: .92;
}
.link{
  color: var(--green);
  text-decoration: underline;
  text-decoration-color: rgba(11,59,46,.35);
  text-underline-offset: 3px;
}

/* ---------- RSVP ---------- */
.rsvp-wrap{ max-width: 820px; }
.rsvp-form{
  border-top: 1px solid var(--line-strong);
  padding-top: 16px;
}

.toggle{
  border: 0;
  padding: 0;
  margin: 0 0 18px 0;
  display: flex;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;
}
.toggle-legend{
  margin-right: 10px;
  font-size: 12px;
  letter-spacing: var(--tracking);
  text-transform: uppercase;
  opacity: .72;
}
.toggle-btn{
  padding: 10px 14px;
  border-radius: 999px;
  border: 1px solid var(--line-strong);
  cursor: pointer;
  font-size: 13px;
  letter-spacing: .08em;
  text-transform: uppercase;
  background: rgba(251,247,240,.55);
}
#attYes:checked + label[for="attYes"],
#attNo:checked + label[for="attNo"]{
  border-color: rgba(11,59,46,.6);
  background: rgba(11,59,46,.10);
}

.form-grid{
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 14px;
}
.field{ display: grid; gap: 8px; }
.field-full{ grid-column: 1 / -1; }
.field-label{
  font-size: 12px;
  letter-spacing: .12em;
  text-transform: uppercase;
  opacity: .7;
}

input, textarea{
  width: 100%;
  padding: 12px 12px;
  border-radius: var(--radius-sm);
  border: 1px solid rgba(22,20,20,.18);
  background: rgba(251,247,240,.75);
  color: var(--ink);
  font-family: var(--sans);
  font-size: 14px;
}
input::placeholder, textarea::placeholder{ opacity: .6; }
textarea{ resize: vertical; min-height: 120px; }

.form-actions{
  display: flex;
  align-items: center;
  gap: 14px;
  margin-top: 16px;
  flex-wrap: wrap;
}
.form-hint{
  margin: 0;
  font-size: 13px;
  opacity: .74;
}

.form-status{
  margin-top: 14px;
  border-top: 1px solid rgba(22,20,20,.12);
  padding-top: 12px;
}
.status{ margin: 0; }
.muted{ opacity: .72; }
.success{ color: var(--green); font-weight: 600; }
.error{ color: var(--burgundy); font-weight: 600; }

.hidden-frame{
  position: absolute;
  width: 1px;
  height: 1px;
  opacity: 0;
  pointer-events: none;
  border: 0;
}

/* ---------- Footer ---------- */
.page-footer{
  margin-top: 46px;
  padding-top: 18px;
}
.footer-line{
  height: 1px;
  background: var(--line-strong);
  margin-bottom: 14px;
}
.footer-text{
  margin: 0;
  font-size: 13px;
  letter-spacing: .06em;
  opacity: .74;
  text-transform: uppercase;
}
.footer-accent{
  color: var(--burgundy);
  opacity: .95;
}

/* ---------- Responsive ---------- */
@media (max-width: 920px){
  .events-grid{ grid-template-columns: 1fr; }
  .story-grid{ grid-template-columns: 1fr; }
  .simple-columns{ grid-template-columns: 1fr; }
  .portraits{ grid-template-columns: 1fr; }
}

/* ===== MOBILE: panel overlay + header auto-hide ===== */
@media (max-width: 740px){
  .nav{ display: none; }
  .nav-toggle{ display: inline-flex; }

  /* En móvil NO usamos hover reveal: el JS decide (scroll) */
  .site-header{
    transform: translateY(0);
  }
  .site-header::before{ display:none; }

  /* Panel como overlay real (no empuja layout) */
  .nav-panel{
    display: grid;
    position: fixed;
    top: var(--header-h);
    left: 0;
    right: 0;
    z-index: 999;
    padding: 12px 18px 16px 18px;
    gap: 8px;

    background: rgba(246,241,232,.92);
    backdrop-filter: blur(12px);
    border-bottom: 1px solid var(--line);
    box-shadow: 0 16px 40px rgba(0,0,0,.10);

    max-height: calc(100vh - var(--header-h));
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }

  .nav-panel a{
    padding: 14px 14px;
    border: 1px solid var(--line);
    border-radius: 16px;
    background: rgba(251,247,240,.55);
    font-size: 14px;
  }

  /* Cuando el menú está abierto, bloqueamos scroll del body (lo hace JS con .lock-scroll) */
  body.lock-scroll{
    overflow: hidden;
    touch-action: none;
  }

  .hero-overlay{
    padding: 104px 18px 58px 18px;
    align-content: end;
  }
  .hero-content{ max-width: 92vw; }
  .form-grid{ grid-template-columns: 1fr; }
}
